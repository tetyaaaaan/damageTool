<!DOCTYPE html>
<html lang="ja">
 <head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-S82LRCKEPS"></script>
  <script>
   window.dataLayer = window.dataLayer || [];
   function gtag(){dataLayer.push(arguments);}
   gtag('js', new Date());
   
   gtag('config', 'G-S82LRCKEPS');
  </script>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>崩壊スターレイルのダメージ計算サイト</title>
  <meta name="title" content="崩壊スターレイルのダメージ計算サイト" />
  <meta name="description" content="崩壊スターレイルのダメージを計算できるサイトです。精度は悪いです。" />
  
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/menu.css">
  <link rel="icon" href="./images/icon/te_maru.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="./images/icon/te_maru.ico">
  <!--<link href="https://use.fontawesome.com/releases/v5.10.2/css/all.css" rel="stylesheet">-->
  <!--フォント-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
　<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
　<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@700&display=swap" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="./js/windowLoading.js"></script>
  
 </head>
 <body bgcolor="#cccccc" text="#000000">
  <!-- ページ読み込み中の画面表示 -->
  <div id="load">
   <font size="6" color="ff0000">
    <p>ダメージ計算</p><br>
    <p>Now Loading...</p>
   </font>
  </div>
  
  <div id="wrapper">
   <section>
    <font size="6" color="ff0000">
        <p align="center">ダメージ計算</p>
    </font>
    
    <!--ハンバーガーメニューの作成-->
    <div class="hamburger">
        <!-- ハンバーガーメニューのチェックボックス -->
        <input type="checkbox" id="hamburger_check">
        <label for="hamburger_check">
            <span><img id="hamburgerBtn" alt="メニュー" src="./images/icon/bars-solid.svg"></span>
            <span id="hamburgerCancel"></span>
        </label>
        <!--メニューバーの作成-->
        <div class="sideMenu"></div>
        <div class="sideMenu_content">
            <header>メニュー</header>
            <ul>
                <li><a href="./">ホーム</a></li>
                <li><a href="./">原神</a></li>
                <li><a href="./granblue/granblue.html">グラブル</a></li>
                <li><a href="./hsr.html">崩壊スターレイル</a></li>
                <li><a href="https://twitter.com/Genshin_7">twitter</a></li>
                <li><a href="https://peing.net/ja/dmgt">バグ報告</a></li>
                <li><a href="./">その他</a></li>
            </ul>
        </div>
    </div>
    
    

    <h2>崩壊スターレイル</h2>
    <div class="box">
    <h4>ダメージ計算式は以下の通り（多分）</h4>
    <p>ダメージ = <span class = "yellow">基礎ダメージ</span> * <span class = "green">ダメバフ補正 * 会心ダメ補正</span> * <span class = "brown">被ダメ補正 * 靭性補正</span> * <span class = "pink">敵防御補正 * 属性耐性補正</span></p>
    
    <!-- アイコンと非表示要素を含む要素 -->
    <div id="toggleContainer">
        <button id="toggleButton">＋</button>
        <font size="1" class="gray"><span>　（計算式詳細の表示・非表示）</span></font>
        <br>
        
        <div id="toggleContent" style="display: none;">
        <br>
        <!-- 非表示内容 -->
        <p><span class = "yellow">基礎ダメージ</span> = 攻撃力 * 倍率</p>
        <p><span class = "yellow">攻撃力</span> = 基礎攻撃力（キャラ＋武器）* (1 + 攻撃%) + 攻撃実数値</p>
        <p><span class = "green">ダメバフ補正</span> = 1 + ダメージバフ%の合計値</p>
        <p><span class = "green">会心ダメ補正</span> = 1 + 会心ダメージ%の合計値</p>
        
        <p><span class = "brown">被ダメ補正</span> = 1 ± 被ダメージ%</p>
        <p><span class = "brown">靭性補正</span> = 1 - 靭性耐性%（白いゲージの奴）</p>
        
        <br>
        <p>（※基本的に同レベルで50%）</p>
        <span class = "pink">敵防御補正</span> = 
        <span style="display: inline-flex; flex-direction: column; vertical-align: middle; text-align: center;">
            <span style="padding: 0 10px; border-bottom: 1px solid #000000;">キャラレベル+20</span>
            <span style="padding: 0 10px;">(1 - 防御無視%) * (1 - 防御デバフ%) * (敵レベル + 20) + キャラレベル +20</span>
        </span>
        <br><br>
        <p><span class = "pink">属性耐性補正</span> = 1 - <span class = "purple">(敵の基礎耐性% - 弱点は属性貫通(20%) - 耐性デバフ%)</span></p>
        
        <!--
        <p><span class = "green">元素反応</span> = 蒸発・溶解反応倍率 * (1 + 元素熟知の元素反応ダメージボーナス + 装備等元素反応ダメボ)</p>
        <p>※他の元素反応は固定ダメージ系、実数ダメージ加算に分かれる（今回は割愛）</p>

        <br>
        <span class = "pink">敵防御補正</span> = 
        <span style="display: inline-flex; flex-direction: column; vertical-align: middle; text-align: center;">
            <span style="padding: 0 10px; border-bottom: 1px solid #000000;">キャラレベル+100</span>
            <span style="padding: 0 10px;">(1 - 防御無視%) * (1 - 防御デバフ%) * (敵レベル + 100) + キャラレベル +100</span>
        </span>
        <br>
        <br>
        <p><span class = "pink">敵元素耐性補正</span> = <span class = "purple">敵の現耐性%</span> に応じて3つに場合分け</p>
        <p>・ 0%未満の場合 = 1 - <span class = "purple">敵の現耐性%</span> / 2</p>
        <p>・ 0~75%の場合 = 1 - <span class = "purple">敵の現耐性%</span></p>
        <p>・ 75%以上の場合 = 1 / (4 * <span class = "purple">敵の現耐性%</span> + 1)</p>
        <p><span class = "purple">敵の現耐性%</span> = 敵の基礎耐性% + 敵の耐性バフ% - 耐性デバフ%</p>
        -->

        </div>
    </div>
    <script src="./js/show_hide.js"></script>
    </div>
    <br>
    <div class="box">
        <h4>キャラ・武器ステータス（Lv.80）</h4>
        <font size="1" color=#555555>
            <p>（※計算結果には反映されないので参考程度に）</p>
            <p>　</p>
        </font>
        <!--キャラのテーブル-->
        <label for="selectName">キャラを選択してください:</label>
        <select id="selectName"></select>
        <table class="hsrCha-table" id="chara-outputTable">
            <thead></thead>
            <tbody></tbody>
        </table>
        <br>

        <!--武器のテーブル-->
        <label for="selectWeapon">光円錐を選択してください:</label>
        <select id="selectWeapon"></select>
        <table class="hsrWeapon-table" id="weapon-outputTable">
            <tbody></tbody>
        </table>

        <table class="hsrWeapon-table" id="sumStatus-outputTable">
            <tbody></tbody>
        </table>
        <script src="./js/hsr_selectStatusList.js"></script>
    </div>
    <br>

    
    <div class="box">
        <h4>敵（靭性耐性10%、属性耐性20%）</h4>
        <label for="toughness"><span class="brown">靭性</span>：</label>
        <select id="toughness" name="toughness">
            <option value="yes">あり</option>
            <option value="no" selected>なし</option>
        </select>
        <span>&nbsp</span>
        <label for="weakness"><span class="pink">属性耐性</span>：</label>
        <select id="weakness" name="weakness">
            <option value="yes">弱点</option>
            <option value="no">弱点以外</option>
        </select>
    </div>

    <br>
    <!--ここにダメージ計算のフォームを作る-->
    <!--main.jsファイル-->
    <!--<script src="./js/main.js"></script>-->
    <br>
    <div class="box">
    <br>
    
    <div id="normalDmgContent">
        <!--ここは簡易版
        <table class="my-table">
            <tr>
                <th class="normal-text">攻撃力</th>
                <th class="normal-text">倍率%</th>
            </tr>
            <tr>
                <td><input type="number" class="input_num" id="atk" step="1" value="1000"></td>
                <td><input type="number" class="input_num" id="talent" step="0.1" value="50"></td>
            </tr>
        </table>
    -->
        <!--ここから複雑版-->
        <table class="my-table">
            <tr>
                <th class="normal-text">表示攻撃力</th>
                <th class="normal-text">基礎攻撃力</th>
            </tr>
            <tr>
                <td><input type="number" class="input_num" id="atk" step="1" value="1000"></td>
                <td><input type="number" class="input_num" id="base_atk" step="1" value="800"></td>
            </tr>
        </table>
        <font size="1" color=#555555>
            <p>※(表示攻撃力)はキャラクター詳細に表示されている攻撃力（白＋緑）を書く</p>
            <p>※(基礎攻撃力)はキャラクター詳細に表示されている攻撃力（白）を書く</p>
        </font>
        <br>
        <table class="my-table">
            <tr>
                <th class="normal-text">攻撃力up %</th>
                <th class="normal-text">攻撃力up +</th>
                <th class="normal-text">倍率%</th>
            </tr>
            <tr>
                <td><input type="number" class="input_num" id="atk_buffPer" step="0.1" value="0"></td>
                <td><input type="number" class="input_num" id="atk_buffPlus" step="1" value="0"></td>
                <td><input type="number" class="input_num" id="talent" step="0.1" value="50"></td>
            </tr>
        </table>
        <font size="1" color=#555555>
            <p>※(攻撃力up %)はキャラクター詳細に反映されてないものを書く</p>
            <p>※(攻撃力up +)はキャラクター詳細に反映されてないものを書く</p>
        </font>
      <!--
        <table class="my-table">
            <tr>
                <th class="normal-text">天賦倍率%</th>
                <th class="normal-text">特殊乗算%</th>
                <th class="normal-text">実数ダメ加算</th>
            </tr>
            <tr>
                <td><input type="number" class="input_num" id="talent" step="0.1" value="50"></td>
                <td><input type="number" class="input_num" id="special" step="0.1" value="0"></td>
                <td><input type="number" class="input_num" id="add_b" step="0.1" value="0"></td>
            </tr>
        </table>-->
        <br>
    
        
        <!--<p>防御力：<input type="text" id="def"></p>-->
        <!--<p>会心率：<input type="text" id="cri"></p>-->
        <p>ダメージバフ (％)：<input type="number" class="input_num" id="dmg_b" step="0.1" value="0"></p>
        <p>会心ダメージ (％)：<input type="number" class="input_num" id="cri_dmg" step="0.1" value="50"></p>
        <p>被ダメージ (％)：<input type="number" class="input_num" id="taken_dmg" step="0.1" value="0"></p>
    </div>
    
    <br>
    <div id="eleCalcContent" style="display: none;">
        <!--<p>元素反応倍率(1 1.5 2.0)：<input type="number" id="ele" step="0.5" value="1"></p>
        <p>元素熟知：<input type="number" class="input_num" id="ele_m" step="1" value="0"></p>
        <p>装備等元素反応ダメボ (％)：<input type="number" class="input_num" id="ele_e" step="1" value="0"></p>-->
    </div>
    <br>
    
    <table class="my-table">
        <tr>
            <th class="normal-text">耐性デバフ%</th>
            <th class="normal-text">防御デバフ%</th>
            <th class="normal-text">防御無視%</th>
        </tr>
        <tr>
            <td><input type="number" class="input_num" id="ele_d" step="1" value="0"></td>
            <td><input type="number" class="input_num" id="def_d" step="1" value="0"></td>
            <td><input type="number" class="input_num" id="def_ig" step="1" value="0"></td>
        </tr>
    </table>
    <font size="1" color=#555555>
        <p>※耐性デバフ%の例）属性耐性-12% → 記入[-12]%</p>
    </font>
    <br>

    <p>キャラレベル：<input type="number" class="input_num" id="lv" step="1" value="80"></p>
    <p>敵レベル：<input type="number" class="input_num" id="e_lv" step="1" value="80"></p>
    <font size="1" color=#555555>
        <p>※レベル差がないときは無視</p>
    </font>

    </div>
    <br>
    <div class="no-box">
    <p class = "pink">敵防御補正：<span id="value_e_def"></span></p>
    <p class = "pink">属性耐性補正：<span id="value_e_ele"></span></p>
    <br>
    <button id = "dmg_button" type = "button" class = "calc-button" onclick="calc()">ダメージ計算実行！</button>
    <br><br>
    <font size = "5">
        <p class = "red" id="result">ダメージ計算します：</p>
    </font>
    <br>

    <!--
    <div id="chart-container">
        <canvas id="myChart" height="200"></canvas>
    </div>-->
    <script src="./js/hsr_dmgCalc.js"></script>
    <br>
    


    <p></p>
   </section>
   
   <br><br><br><br><br><br>
   <div>
    <h3>崩壊スターレイル公式 Twitter</h3>
    <a class="twitter-timeline" width="350px" height="400px" data-chrome="noheader nofooter" href="https://twitter.com/houkaistarrail?ref_src=twsrc%5Etfw">Tweets by houkaistarrail</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
   </div>
   <br><br><br><br><br>
   <!--
   <h4>現在閲覧中のユーザ数： <span id="userCount">0</span>人</h4>
   <script src="./js/user_count.js"></script>
   -->
   <h4>現在閲覧中のユーザ数 wow!</h4>
   <h4 class="realtimeuserscounter realtimeuserscounter--styled"></h4>
   <script src="https://realtimeusers.bycontrast.co/realtimeusers.js"></script>
   <br><br><br><br>
   <!--footer-->
   <footer>
    <h3>プライバシーポリシー・免責事項</h3>
    <p class="gray">
     <font size="1">
      本サイトでは、サイトの分析と改善のためにGoogleが提供している「Google アナリティクス」を利用しています。
      このサービスは、トラフィックデータの収集のためにCookie（クッキー）を使用しています。トラフィックデータは匿名で収集されており、個人を特定するものではありません。<br>
      本サイトでは計算結果の正確性を保障することはできません。本サイトを利用するなどの行為に関連して生じたあらゆる損害等についても、理由の如何に関わらず、本サイトは一切の責任を負いかねますのでご了承ください。<br>
      本サイトは教育・研究目的で作成されたサイトであり、著作権法第32条に基づき画像を引用しています。また、本サイトは株式会社COGNOSPHEREとは一切関係がない非公式のウェブサイトです。 
      「崩壊スターレイル」はCOGNOSPHEREの登録商標です。画像、データの著作権はCOGNOSPHEREに帰属します。
     </font>
    </p>
   </footer>
  </div>
 </body>
</html>
